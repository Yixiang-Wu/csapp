# 本节介绍数字电路基本知识和HCL
------
### 概述
- 要实现一个数字系统（处理器+存储器）需要三部分：
    1. 组合逻辑（对位进行操作）
    2. 存储器单元
    3. 时钟信号（控制存储器更新的时机）
- HDL（硬件描述语言）：Verilog，VHDL等
- HCL（硬件控制语言）：只描述逻辑控制，较简单，教学用
------
### 数字电路
1. 三个基本逻辑门（AND， OR， NOT）
2. 多路复用器（MUX）
- 位级别HCL描述：bool out = (s && a) || (!s && b);
3. HCL和C语言区别
   1. C中位与是&，HCL中用&&表示
   2. C中会短路
--------
### 字级别
1. 图上使用实线表示字节或半字节(8位或者4位)，虚线表示bool，（而字是64位，在后文用加粗表示）
2. 位级相等： bool Eq = (A == B);
3. 字级MUX
``` C
// 实际硬件是互斥的，HCL可以表示不互斥，而是从上到下计算
word Out = [
    s: A;
    1: B;
];
```
4. 4路复用，集合关系
``` C
// 4路复用，两个bool信号, code是word信号
bool s1 = code in {2, 3};
bool s0 = code in {1, 3};

word Out4 = [
    !s1 && !s0  : A; // 00
    !s1         : B; // 01
    !s2         : C; // 10
    1           : D; // 00
]
```
------
### 存储器和时钟
1. 组合电路和时序电路的区别：前者只根据输入变化输出，后者会储存状态，并根据状态计算
2. 储存器
   1. 时钟寄存器（简称寄存器）：存储单个位或字
      1. 理解为特殊寄存器
      2. Y86中用时钟寄存器存储PC, Stat, CC
      3. SEQ中只有PC，PIPE中有添加更多
   2. 随机访问存储器（内存）
      1. 处理器的虚拟内存
      2. 寄存器文件（15个通用寄存器）
3. 硬件寄存器和程序寄存器
   - 程序寄存器是在机器级编程时的说法，硬件寄存器是在处理器设计时的说法，两者有细微差别，这个差别暂时没遇到
4. 时钟
   - 硬件寄存器中的值一直是x，当时钟上升时，会变成y
5. 补充
   - 处理器还包括一个只读存储器，用来读指令
